(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6308:function(e,s,t){Promise.resolve().then(t.bind(t,4177))},4177:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return L}});var r=t(7437),a=t(2265),l=t(1994),o=t(3335);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,o.m6)((0,l.W)(s))}let n={default:"bg-deco-gold text-deco-navy hover:bg-deco-bronze",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-deco-gold bg-transparent hover:bg-deco-gold/10 text-deco-gold",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200",ghost:"hover:bg-deco-gold/10 text-current",link:"text-deco-gold underline-offset-4 hover:underline"},c={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"},i=(0,a.forwardRef)((e,s)=>{let{className:t,variant:a="default",size:l="default",...o}=e;return(0,r.jsx)("button",{className:d("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-deco-gold focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n[a],c[l],t),ref:s,...o})});i.displayName="Button";var x=t(4972),m=t(8896),u=t(1723),h=t(1239),g=t(8728);let f=(0,t(3011).U)((e,s)=>({profile:{mode:"Exploration"},goals:[],experiments:0,addToHistory:s=>{let t=s.content.toLowerCase();e(e=>({experiments:t.includes("experiment")?e.experiments+1:e.experiments}))}}));function b(e){var s;let{isOpen:t,onClose:a}=e,{currentExperiment:l,goals:o}=f(),d=null===(s=o.find(e=>"active"===e.status))||void 0===s?void 0:s.title;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-y-0 left-0 z-40 w-64 bg-deco-navy/95 backdrop-blur-xl transform ".concat(t?"translate-x-0":"-translate-x-full"," transition-transform lg:translate-x-0 lg:static lg:inset-0"),children:(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-deco-gold rounded-deco-lg flex items-center justify-center",children:(0,r.jsx)(x.Z,{className:"w-6 h-6"})}),(0,r.jsx)("h1",{className:"text-2xl font-deco text-deco-cream",children:"INTP Coach"})]}),(0,r.jsxs)("nav",{className:"space-y-2",children:[(0,r.jsxs)(i,{variant:"ghost",className:"w-full justify-start text-deco-cream hover:bg-deco-gold/20",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 mr-3"}),"Current Goal: ",d||"Set a goal"]}),(0,r.jsxs)(i,{variant:"ghost",className:"w-full justify-start text-deco-cream hover:bg-deco-gold/20",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 mr-3"}),"Session Timer"]}),(0,r.jsxs)(i,{variant:"ghost",className:"w-full justify-start text-deco-cream hover:bg-deco-gold/20",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5 mr-3"}),"Quick Prompts"]})]}),(0,r.jsxs)(i,{variant:"outline",className:"w-full text-deco-gold border-deco-gold hover:bg-deco-gold hover:text-deco-navy",children:[(0,r.jsx)(g.Z,{className:"w-5 h-5 mr-3"}),"Settings"]})]})}),t&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm lg:hidden z-30",onClick:a})]})}var p=t(9827),v=t(1770),j={baseUrl:"http://localhost:4000",async post(e,s){let t="".concat(this.baseUrl).concat(e),r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw Error("API Error: ".concat(r.status));return r.json()},async coachChat(e){return this.post("/coach/chat",{messages:e})}};function N(){var e;let[s,t]=(0,a.useState)([]),r=(0,p.NL)(),{addToHistory:l}=f(),o=(0,v.D)({mutationFn:e=>j.coachChat([{role:"user",content:e}]),onMutate:async e=>{let s={role:"user",content:e};t(e=>[...e,s]),await r.cancelQueries({queryKey:["chat"]});let a=r.getQueryData(["chat"]);return r.setQueryData(["chat"],e=>e?[...e,s]:[s]),{previousMessages:a}},onError:(e,s,a)=>{console.error(e),t(e=>e.filter(e=>e.content!==s)),(null==a?void 0:a.previousMessages)&&r.setQueryData(["chat"],a.previousMessages)},onSuccess:e=>{let s={role:"assistant",content:e.response||"No response received"};t(e=>[...e,s]),l(s)}});return{messages:s,sendMessage:e=>{o.mutate(e)},isLoading:o.isPending,error:null===(e=o.error)||void 0===e?void 0:e.message}}var w=t(2369);let y=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:d("rounded-2xl border bg-card text-card-foreground shadow-lg backdrop-blur-sm",s),...t})};function k(e){let{message:s}=e,t="user"===s.role;return(0,r.jsxs)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),children:[(0,r.jsx)("div",{className:"max-w-2xl ".concat(t?"order-2":"order-1"),children:(0,r.jsx)(y,{className:"p-6 rounded-3xl shadow-lg ".concat(t?"bg-gradient-to-r from-deco-gold to-deco-bronze text-deco-navy border-deco-gold/50":"bg-gradient-to-r from-slate-50 to-slate-100 border-slate-200/50"),children:s.isLoading?(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce [animation-delay:0.1s]"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce [animation-delay:0.2s]"})]}):(0,r.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed",children:s.content})})}),(0,r.jsx)("div",{className:"flex-shrink-0 w-12 h-12 ml-4 ".concat(t?"order-1 ml-0 mr-4":"order-2 mr-0 ml-4"),children:t?(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-deco-navy to-slate-800 rounded-2xl flex items-center justify-center shadow-deco-glow",children:(0,r.jsx)(w.Z,{className:"w-6 h-6 text-deco-gold"})}):(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-deco-teal to-deco-navy rounded-2xl flex items-center justify-center shadow-deco-glow",children:(0,r.jsx)(x.Z,{className:"w-6 h-6 text-deco-cream"})})})]})}y.displayName="Card";var C=t(4743);function E(){let[e,s]=(0,a.useState)(""),{sendMessage:t,isLoading:l}=N();return(0,r.jsx)("form",{onSubmit:r=>{r.preventDefault(),e.trim()&&!l&&(t(e),s(""))},className:"p-6 border-t border-slate-200 bg-white/50",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("textarea",{value:e,onChange:e=>s(e.target.value),placeholder:"Ask your coach... (e.g., 'Help me debug my focus system')",className:"flex-1 px-5 py-4 bg-slate-50/50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-deco-gold focus:border-transparent outline-none resize-none placeholder-slate-500 text-lg leading-relaxed",disabled:l,rows:1,autoComplete:"off"}),(0,r.jsx)(i,{type:"submit",disabled:!e.trim()||l,className:"w-14 h-14 p-0 bg-gradient-to-r from-deco-gold to-deco-bronze hover:from-deco-bronze hover:to-deco-gold shadow-deco-glow border-0 rounded-2xl",children:(0,r.jsx)(C.Z,{className:"w-5 h-5"})})]})})}function S(){let{messages:e,isLoading:s,error:t}=N();return(0,r.jsxs)(y,{className:"h-full flex flex-col bg-white/70 backdrop-blur-xl border-deco-gold/20 shadow-deco-glow",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[0===e.length&&(0,r.jsxs)("div",{className:"text-center py-20 text-slate-500",children:[(0,r.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-deco-gold/20 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-3xl",children:"\uD83E\uDD16"})}),(0,r.jsx)("h2",{className:"text-2xl font-deco mb-2 text-deco-navy",children:"INTP Coach Ready"}),(0,r.jsx)("p",{children:"Ask about your productivity experiments, goals, or workflow debugging."})]}),e.map((e,s)=>(0,r.jsx)(k,{message:e},s)),s&&(0,r.jsx)(k,{message:{role:"assistant",content:"Thinking...",isLoading:!0}}),t&&(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-deco text-red-800 text-sm",children:t})]}),(0,r.jsx)(E,{})]})}let Z={default:"border-transparent bg-deco-gold text-deco-navy hover:bg-deco-bronze",secondary:"border-transparent bg-slate-100 text-slate-700 hover:bg-slate-200",destructive:"border-transparent bg-red-500 text-white hover:bg-red-600",outline:"text-slate-700 border-slate-300"},D=(0,a.forwardRef)((e,s)=>{let{className:t,variant:a="default",...l}=e;return(0,r.jsx)("div",{ref:s,className:d("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-deco-gold focus:ring-offset-2",Z[a],t),...l})});D.displayName="Badge";var z=t(1671);function P(){let{goals:e}=f(),s=e.length?e:[{id:1,title:"Build focus system v2",status:"active"},{id:2,title:"Debug email distraction loop",status:"pending"},{id:3,title:"Review weekly experiments",status:"completed"}];return(0,r.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/50 hover:bg-white/70 rounded-xl transition-all group",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:["completed"===e.status&&(0,r.jsx)(z.Z,{className:"w-5 h-5 text-emerald-500"}),"active"===e.status&&(0,r.jsx)("div",{className:"w-5 h-5 bg-amber-400 rounded-full animate-pulse"}),"pending"===e.status&&(0,r.jsx)(u.Z,{className:"w-5 h-5 text-slate-400"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:e.title})]}),(0,r.jsx)(D,{variant:"completed"===e.status?"default":"secondary",children:e.status})]},e.id))})}function T(){return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(y,{className:"p-6 bg-white/50 border-slate-200/50",children:[(0,r.jsx)("h2",{className:"text-lg font-deco text-slate-900 mb-4",children:"Active Goals"}),(0,r.jsx)(P,{})]})})}function _(){let{profile:e,experiments:s}=f();return(0,r.jsxs)(y,{className:"p-6 bg-gradient-to-br from-purple-50 to-indigo-50 border-purple-200/50 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-purple-200 to-indigo-200 rounded-bl-2xl -mr-12 -mt-12 opacity-50"}),(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(x.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-deco text-slate-900 mb-1",children:"Your INTP Profile"}),(0,r.jsx)("p",{className:"text-sm text-slate-600",children:"Systems thinker • Experimenter • Deep focus"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-white/60 rounded-xl",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),(0,r.jsxs)("span",{className:"text-sm",children:["Current mode: ",e.mode||"Exploration"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-white/60 rounded-xl",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.activeExperiment||"No experiment active"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-white/50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:e.focusScore||"85%"}),(0,r.jsx)("div",{className:"text-slate-600 uppercase tracking-wide",children:"Focus"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-white/50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s||3}),(0,r.jsx)("div",{className:"text-slate-600 uppercase tracking-wide",children:"Active"})]})]})]})}function A(){let[e,s]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[280px_1fr_320px] h-[calc(100vh-4rem)] gap-6 lg:gap-8 overflow-hidden",children:[(0,r.jsx)(b,{isOpen:e,onClose:()=>s(!1)}),(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsx)(S,{})})}),(0,r.jsxs)("div",{className:"hidden lg:block space-y-6",children:[(0,r.jsx)(_,{}),(0,r.jsx)(T,{})]}),(0,r.jsx)("button",{className:"lg:hidden fixed bottom-8 right-8 z-50 p-4 bg-deco-gold text-deco-navy rounded-full shadow-deco-glow",onClick:()=>s(!0),children:"☰"})]})}function L(){return(0,a.useEffect)(()=>{},[]),(0,r.jsx)(A,{})}}},function(e){e.O(0,[262,715,971,117,744],function(){return e(e.s=6308)}),_N_E=e.O()}]);